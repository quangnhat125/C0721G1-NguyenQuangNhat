<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body></body>
  <script>
    class Mobile {
      constructor(pin, status) {
        this.pin = pin;
        this.status = status;
        this.inboxMessage = [];
        this.sentMessage = [];
      }

      //Function xem điện thoại đạng bật hay tắt
      isOnOfMobile() {
        if (this.status) {
          alert("Điện thoại đang bật");
          return this.status;
        } else {
          alert("ĐIện htoaij đang tắt.");
          return this.status;
        }
      }

      //Function để tắt bật điện thoại.
      setOnOfMobile() {
        if (this.status) {
          this.status = false;
          alert("Đã tắt điện thoại");
        } else {
          this.status = true;
          alert("Đã bật điện thoại");
        }
      }

      //    Chức năng gửi tin nhắn đến 1 đối tượng mobile khác
      //    mobile là đối được nhận tin nhắn. khi gọi phương thức receiveMessage thì là đối tượng mobile gọi.
      sendMessage(message, mobile) {
        if (this.isOnOfMobile()) {
          this.sentMessage.push(message);
          mobile.receiveMessage(message);
          this.setPin();
        } else {
          alert("Điện thoại đang tắt nên không xài được!");
        }
      }

      receiveMessage(message) {
        this.inboxMessage.push(message);
      }

      setPin() {
        this.pin--;
      }

      getPin() {
        return this.pin;
      }

      updatePin() {
        this.pin = 100;
      }
    }

    let samsung = new Mobile(100, true);

    let iphone = new Mobile(100, true);

    samsung.setOnOfMobile();

    samsung.sendMessage("Alo iphone", iphone);
    samsung.sendMessage("Alo iphoneX", iphone);
    samsung.sendMessage("Alo iphone11", iphone);

    iphone.sendMessage("Hi Samsung", samsung);

    // console.log(samsung.sentMessage);
    console.log(samsung.inboxMessage);

    console.log(iphone.inboxMessage);

    console.log(samsung.getPin());

    console.log(iphone.getPin());
  </script>
</html>
